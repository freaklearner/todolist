<!DOCTYPE html>
<html lang="en">
<head>
	<title>TO-DO</title>
	<meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<style>
		*{
			box-sizing:border-box;
		}
		.main{
			border:1px solid gray;
			margin-top:80px;
			min-height:500px;
			padding:0px;
		}
		.space{
			margin:0px;
			padding:0px;
		}
		.bord{
			border:1px solid red;
			
		}
		.adder{
			/*border:1px solid black;
			*/
		}
		.block{
			border:1px solid gray;
			margin: 5px 0px 5px 0px;
		}
		.topAdder{
			cursor:pointer;
			
		}
		.marg-s{
			margin-left:10px;	
			float:right;
		}
	</style>
</head>
<body>
	
		<div class="col-md-4 col-md-offset-4 main">
			<div class="col-md-12 section_one bord">
				<div class="col-md-12" style="margin-top:10px;">
					<div class="col-md-8 space">
						<input type="text" class="form-control top">
					</div>
					<div class="col-md-4">
						<input type="button" class="btn btn-primary" value="Add" onclick="setTopic();" >
					</div>
				</div>
			</div>
			<div id="section_two" class="col-xs-12 section_two" style="margin-top:10px">
			</div>
		</div>
	
	<script>
		var prt;
		var cv;
		function constructor(){
			var addNew = document.createElement("div");
			$(addNew).addClass("col-xs-12");
			$(addNew).addClass("bord");
			var cone = document.createElement("div");
			$(cone).addClass("col-md-8");
			$(cone).html('<input type="text" class="form-control lower">');
			//var txt = document.createTextNode(val)
			//$(cone).append(txt);
			//$(cone).text(val);
			var ctwo = document.createElement("div");
			$(ctwo).addClass("col-md-4");
			$(ctwo).html("<input type='button' class='btn btn-primary' onclick='initial();'  value='ADD'>");
			addNew.appendChild(cone);
			addNew.appendChild(ctwo);
			return addNew;
		}
		function setTopic(){
			prt = document.getElementById("section_two");
			cv = 1;
			//alert("setTopic");
			initial();
		}
		function initial(){
			var el;
			if(cv==1){
				el = create(1);
			}
			else if(cv==2){
				el = create(2);
				$(prt).find("div.bord").remove();
			}
			else if(cv==3){
				el = create(3);
				$(prt).find("div.bord").remove();
			}
			$(prt).append(el);
		}
		function lowerPart(v,val){
			
			prt = $(v).parent().parent().parent();
			cv = val;
			//prt.appendChild(addNew);
			$(prt).append(constructor());
		}
		function create(v){
			var element = document.createElement("div");
			$(element).addClass("adder");
			$(element).addClass("col-md-12");
			if(v==1){
				var cone = document.createElement("div");
				$(cone).addClass("col-md-8");
				var val = $(".top").val()+""; //document.getElementById("top").value;
				//var txt = document.createTextNode(val)
				//$(cone).append(txt);
				$(cone).text(val);
				var ctwo = document.createElement("div");
				$(ctwo).addClass("col-md-4");
				$(ctwo).html("<span class='glyphicon glyphicon-plus topAdder' onclick='lowerPart(this,2)'></span>")
				var box = document.createElement("div");
				$(box).addClass("block");
				$(box).addClass("col-md-12");
				$(box).addClass("col-md-offset-3");
				box.appendChild(cone);
				box.appendChild(ctwo);
				element.appendChild(box);
				return element;
			}
			else if(v==2){
				var cone = document.createElement("div");
				$(cone).addClass("col-md-8");
				var val = $(".lower").val()+""; //document.getElementById("top").value;
				//var txt = document.createTextNode(val)
				//$(cone).append(txt);
				$(cone).text(val);
				var ctwo = document.createElement("div");
				$(ctwo).addClass("col-md-4");
				$(ctwo).html("<span class='glyphicon glyphicon-plus topAdder' onclick='lowerPart(this,3)'></span>")
				var box = document.createElement("div");
				$(box).addClass("block");
				$(box).addClass("col-md-11");
				$(box).addClass("marg-s");
				box.appendChild(cone);
				box.appendChild(ctwo);
				element.appendChild(box);
				return element;
			}
			else if(v==3){
				var cone = document.createElement("div");
				$(cone).addClass("col-md-12");
				var val = $(".lower").val()+""; //document.getElementById("top").value;
				//var txt = document.createTextNode(val)
				//$(cone).append(txt);
				$(cone).text(val);
				var box = document.createElement("div");
				$(box).addClass("block");
				$(box).addClass("col-md-9");
				$(box).addClass("marg-s");
				box.appendChild(cone);
				element.appendChild(box);
				return element;
			}
				
		}
	</script>
</body>
</html>